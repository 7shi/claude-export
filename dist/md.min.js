!async function(){var e="";const{elements:t,title:n}=function(){const e=document.querySelector("div.flex-1.flex.flex-col.gap-3.px-4"),t=document.querySelector("button[data-testid='chat-menu-trigger']"),n=t?t.textContent:"";return{elements:e.querySelectorAll("div.font-claude-message, div.font-user-message"),title:n}}();var a=new Date(new Date(new Date(new Date).toISOString()).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,19).replace("T"," ");e+=`# ${n||"Claude Chat"}\n\`${a}\`\n`;for(var o=0;o<t.length;o++){var i=t[o],r=i;if("DIV"===r.firstChild?.tagName&&(r=r.firstChild,"DIV"===r.firstChild?.tagName&&(r=r.firstChild)),r.firstChild){if(r.nodeType===Node.ELEMENT_NODE){var l=r.childNodes;if(i.classList.contains("font-claude-message")){e+="_Claude_:\n";var d=navigator.clipboard;for(var c of(d._writeText||(d._writeText=d.writeText),Array.from(i.nextSibling.getElementsByTagName("button")).filter((e=>"Copy"==e.innerText))))await new Promise(((t,n)=>{d.writeText=async n=>{n=n.replace(/(?<!^)\$\$(.*?)\$\$(?!$)/gm,"$$$1$$"),e+=n.trimEnd()+"\n",t()};try{c.click()}catch(e){n(e)}}));d.writeText=d._writeText}else{e+="\n## Prompt:\n\n";for(var s=0;s<l.length;s++){const t=l[s];if(t.nodeType===Node.ELEMENT_NODE){var E=t.tagName,f=t.textContent;if("P"===E&&(e+=`${f}\n`),"OL"===E){var N=0;t.childNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&"LI"===t.tagName&&(e+=`${++N}. ${t.textContent}\n`)}))}if("UL"===E&&t.childNodes.forEach(((t,n)=>{t.nodeType===Node.ELEMENT_NODE&&"LI"===t.tagName&&(e+=`- ${t.textContent}\n`)})),"PRE"===E){const t=f.split("Copy code"),n=t[0].trim(),a=t[1].trim();e+=`\`\`\`${n}\n${a}\n\`\`\`\n`}if("BLOCKQUOTE"===E)for(const t of f.trim().split("\n"))e+=`> ${t}\n`;if("TABLE"===E){let n="";t.childNodes.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE&&("THEAD"===e.tagName||"TBODY"===e.tagName)){let t="",a=0;if(e.childNodes.forEach((n=>{if(n.nodeType===Node.ELEMENT_NODE&&"TR"===n.tagName){let o="";n.childNodes.forEach((t=>{t.nodeType!==Node.ELEMENT_NODE||"TD"!==t.tagName&&"TH"!==t.tagName||(o+=`| ${t.textContent} `,"THEAD"===e.tagName&&a++)})),t+=`${o}|\n`}})),n+=t,"THEAD"===e.tagName){const e=`| ${Array(a).fill("---").join(" | ")} |\n`;n+=e}}})),e+=n}e+="\n"}}}}r.nodeType===Node.TEXT_NODE&&(e+="\n")}}!function(e,t,n,a){let o=n?n.trim().toLowerCase().replace(/^[^\w\d]+|[^\w\d]+$/g,"").replace(/[\s\W-]+/g,"-"):"claude";o+=e;var i=new Blob([a],{type:t}),r=document.createElement("a");r.download=o,r.href=window.URL.createObjectURL(i),r.dataset.downloadurl=[t,r.download,r.href].join(":");var l=new MouseEvent("click",{canBubble:!0,cancelable:!1,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});r.dispatchEvent(l)}(".md","text/plain",n,e)}();